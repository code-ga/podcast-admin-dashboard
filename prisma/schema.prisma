// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Playlist {
  id             String   @id @default(uuid())
  // feedUrl        String
  siteUrl        String   @default("")
  imageUrl       String
  title          String
  description    String
  generator      String   @default("Code-ga Podcast Admin Dashboard")
  docs           String
  author         String
  managingEditor String
  webMaster      String
  copyright      String
  language       String   @default("vi")
  categories     String[] @default([])
  pubDate        DateTime @updatedAt
  geoRSS         Boolean  @default(false)

  itunesAuthor   String
  itunesSubtitle String
  itunesSummary  String
  itunesOwnerID  String
  itunesOwner    FeedItunesOwner      @relation(fields: [itunesOwnerID], references: [id])
  itunesExplicit Boolean
  itunesCategory FeedItunesCategory[]
  itunesImage    String
  itunesType     FeedItunesType
}

model FeedItunesOwner {
  id       String     @id @default(uuid())
  name     String
  email    String
  Playlist Playlist[]
}

model FeedItunesCategory {
  id                   String    @id @default(uuid())
  text                 String
  subcatsID            String[]
  // subcats              FeedItunesCategory[] @relation(fields: [subcatsID], references: [id])
  Playlist             Playlist? @relation(fields: [playlistId], references: [id])
  playlistId           String?
  // FeedItunesCategory   FeedItunesCategory[]  @relation(fields: [feedItunesCategoryId], references: [id])
  feedItunesCategoryId String?
}

enum FeedItunesType {
  episodic
  serial
}
